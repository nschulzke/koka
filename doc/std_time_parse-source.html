<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>parse.kk documentation</title>
</head>

<body class="koka doc body madoko">
<pre class="koka source"><span class="comment">/&#42;----------------------------------------------------------------------------
   Copyright 2012-2021, Microsoft Research, Daan Leijen

   Licensed under the Apache License, Version 2.0 ("The Licence"). You may not
   use this file except in compliance with the License. A copy of the License
   can be found in the LICENSE file at the root of this distribution.
----------------------------------------------------------------------------&#42;/</span>

<span class="comment">// Parsing of time strings.
</span><span class="kw">module</span> <a class="pp" href="std_time_parse.html#_null_"><span class="mo">std/time/parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse</span></span></a>

<span class="kw">import</span> <a class="pp" href="std_text_parse.html#_null_"><span class="mo">std/text/parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_num_ddouble.html#_null_"><span class="mo">std/num/ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_duration.html#_null_"><span class="mo">std/time/duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_instant.html#_null_"><span class="mo">std/time/instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_date.html#_null_"><span class="mo">std/time/date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_calendar.html#_null_"><span class="mo">std/time/calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_calendars.html#_null_"><span class="mo">std/time/calendars</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendars</span></span></a>  <span class="comment">// iso-week, iso-month
</span><span class="kw">import</span> <a class="pp" href="std_time_time.html#_null_"><span class="mo">std/time/time</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_locale.html#_null_"><span class="mo">std/time/locale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>locale</span></span></a>
<span class="kw">import</span> <a class="pp" href="std_time_utc.html#_null_"><span class="mo">std/time/utc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc</span></span></a>

<span class="comment">// -----------------------------------------------------------
// Parsing  
// -----------------------------------------------------------
</span>
<span class="comment">/&#42; Parse an [ISO 8601](https://en.wikipedia.org/wiki/ISO&#95;8601) time string.
The optional &#96;calendar&#96; (=&#96;cal-iso&#96;) argument can be given to interpret
the date in a different calendar. 

&#96;&#96;&#96;&#96;plain
2008-12-31               // just date
2009-W01-3               // week number and day
2008-366                 // day of the year

20081231, 2009W013, 2008366  // without dashes

2008-12-31T09            // with time part, use T or space
2008-12-31 09
2008-12-31T09:20:16
2008-12-31T09:20:16.345  // with milliseconds (can be any fraction)
2008-12-30T24:00:00      // next day at midnight
20081231T092016.345      // without separators

2008-12-31T09Z           // UTC time zone (Z)
2008-12-31 09-07:00      // UTC-07:00 time zone
2008-12-31T09:20:16+0830 // UTC+08:30 time zone (without colon)
&#96;&#96;&#96;&#96;

And also parses the ISO month dates (see &#96;cal-iso-month&#96;):

&#96;&#96;&#96;&#96;plain
2009-M01-03              // just month date
2009-M003                // month date with day of the year
&#96;&#96;&#96;&#96;
.
&#42;/</span>

<span class="decl-fun" id="parse_iso"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="std_time_parse.html#parse_iso">parse-iso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse<span class="dash">-</span>iso: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">utc</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">time</span><span class="tp sp">&gt;</span></span></a>( <a class="pp">s<span class="pc">s: <span class="tp">string</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>, <a class="pp">calendar<span class="pc">calendar: <span class="tp sp">?</span> <span class="tp">calendar</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_time_calendar-source.html#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="co">V</span></span></a> <span class="kw">=</span> <a class="pp" href="std_time_calendar-source.html#cal_iso">cal-iso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso: <span class="tp">calendar</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">utc</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">time</span><span class="tp sp">&gt;</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_total"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>total: <span class="co">E</span></span></a><a class="pp" href="std_time_utc-source.html#type_space_utc"><span class="tp">utc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>utc: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp" href="std_core_types-source.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><a class="pp" href="std_time_time-source.html#type_space_time"><span class="tp">time</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time<span class="fslash last">/</span></span>time: <span class="co">V</span></span></a><span class="tp sp">&gt;</span>
  <a class="pp">s<span class="pc">s: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="std_core_sslice-source.html#slice">slice<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>sslice<span class="fslash last">/</span></span>slice: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">utc</span> <span class="tp">sslice</span></span></a><span class="kw op">.</span><a class="pp" href="std_text_parse-source.html#parse_eof">parse-eof<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse<span class="dash">-</span>eof: <span class="tp sp">(</span><span class="tp tpp">input</span> <span class="tp kw op">:</span> <span class="tp">sslice</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">utc</span> <span class="tp">parse<span class="dash">-</span>error</span><span class="tp sp">&lt;</span><span class="tp">time</span><span class="tp sp">&gt;</span></span></a>( { <a class="pp" href="#piso">piso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>piso: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">calendar<span class="pc">calendar: <span class="tp">calendar</span></span></a>) } )<span class="kw op">.</span><a class="pp" href="std_text_parse-source.html#maybe">maybe<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>maybe: <span class="tp sp">(</span><span class="tp tpp">perr</span> <span class="tp kw op">:</span> <span class="tp">parse<span class="dash">-</span>error</span><span class="tp sp">&lt;</span><span class="tp">time</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">utc</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">time</span><span class="tp sp">&gt;</span></span></a></span> 

<span class="decl-fun" id="piso"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#piso">piso<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>piso: <span class="tp sp">(</span><span class="tp tpp">calendar</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">calendar<span class="pc">calendar: <span class="tp">calendar</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_time_calendar-source.html#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_total"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>total: <span class="co">E</span></span></a><a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="std_time_utc-source.html#type_space_utc"><span class="tp">utc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>utc: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp" href="std_time_time-source.html#type_space_time"><span class="tp">time</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time<span class="fslash last">/</span></span>time: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">4<span class="pc">literal: <span class="tp">int</span><br>dec  = 4<br>hex8 = 0x04<br>bit8 = 0b00000100</span></a>)
  <a class="pp" href="#dash">dash<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>dash: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
  <span class="kw">val</span> <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp">date<span class="pc">date: <span class="tp">date</span></span></a>,<a class="pp">cal<span class="pc">cal: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#choose">choose<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>choose: <span class="tp sp">(</span><span class="tp tpp">ps</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">,</span> <span class="tp">calendar</span><span class="tp sp">)</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp">date</span><span class="tp sp">,</span> <span class="tp">calendar</span><span class="tp sp">)</span></span></a>(<a class="pp" href="std_core_types-source.html#con_space_Cons"><span class="co">[</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Cons: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">head</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">tail</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>
    { <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)   <span class="comment">// month-day
</span>      <a class="pp" href="#dash">dash<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>dash: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
      <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
      <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp" href="std_time_date-source.html#con_space_Date"><span class="co">Date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Date: <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">day</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">date</span></span></a>(<a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a>,<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>),<a class="pp">calendar<span class="pc">calendar: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
    },
    { <a class="pp" href="std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">'W'<span class="pc">literal: <span class="tp">char</span><br>unicode= u0057</span></a>)       <span class="comment">// ISO week-day
</span>      <span class="kw">val</span> <a class="pp">w<span class="pc">w: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
      <a class="pp" href="#dash">dash<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>dash: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
      <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a>){ <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a>) }
      <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp" href="std_time_date-source.html#con_space_Date"><span class="co">Date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Date: <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">day</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">date</span></span></a>(<a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a>,<a class="pp">w<span class="pc">w: <span class="tp">int</span></span></a>,<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>),<a class="pp" href="std_time_calendars-source.html#cal_iso_week">cal-iso-week<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendars<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso<span class="dash">-</span>week: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
    }, 
    { <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">3<span class="pc">literal: <span class="tp">int</span><br>dec  = 3<br>hex8 = 0x03<br>bit8 = 0b00000011</span></a>)  <span class="comment">// ISO day of year
</span>      <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp" href="std_time_date-source.html#con_space_Date"><span class="co">Date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Date: <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">day</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">date</span></span></a>(<a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a>,<a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a>,<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>),<a class="pp">calendar<span class="pc">calendar: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
    },
    { <a class="pp" href="std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">'M'<span class="pc">literal: <span class="tp">char</span><br>unicode= u004D</span></a>)
      <span class="kw">val</span> <a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)   <span class="comment">// ISO month-day
</span>      <a class="pp" href="#dash">dash<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>dash: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
      <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
      <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp" href="std_time_date-source.html#con_space_Date"><span class="co">Date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Date: <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">day</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">date</span></span></a>(<a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a>,<a class="pp">m<span class="pc">m: <span class="tp">int</span></span></a>,<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>),<a class="pp" href="std_time_calendars-source.html#cal_iso_month">cal-iso-month<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendars<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso<span class="dash">-</span>month: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
    },
    { <a class="pp" href="std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">'M'<span class="pc">literal: <span class="tp">char</span><br>unicode= u004D</span></a>)         <span class="comment">// ISO month day-of-year
</span>      <span class="kw">val</span> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">3<span class="pc">literal: <span class="tp">int</span><br>dec  = 3<br>hex8 = 0x03<br>bit8 = 0b00000011</span></a>)
      <a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">(</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a><a class="pp" href="std_time_date-source.html#con_space_Date"><span class="co">Date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Date: <span class="tp sp">(</span><span class="tp tpp">year</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">month</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">day</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">date</span></span></a>(<a class="pp">year<span class="pc">year: <span class="tp">int</span></span></a>,<a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a>,<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>),<a class="pp" href="std_time_calendars-source.html#cal_iso_month">cal-iso-month<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendars<span class="fslash last">/</span></span>cal<span class="dash">-</span>iso<span class="dash">-</span>month: <span class="tp">calendar</span></span></a><a class="pp" href="std_core_types-source.html#con_space_Tuple2"><span class="co">)</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Tuple2: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">b</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">fst</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">snd</span> <span class="tp kw op">:</span> <span class="tp tv">b</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">(</span><span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tv">b</span><span class="tp sp">)</span></span></a>
    }
  <a class="pp" href="std_core_types-source.html#con_space_Nil"><span class="co">]</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Nil: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>) 
  <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">time</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">time</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp" href="std_time_time-source.html#date_fs_time">time<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time<span class="fslash last">/</span></span><span class="lq">date<span class="fslash">/</span></span>time: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">,</span> <span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">clock</span><span class="tp sp">,</span> <span class="tp tpp">tz</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">timezone</span><span class="tp sp">,</span> <span class="tp tpp">cal</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">calendar</span><span class="tp sp">,</span> <span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">parse</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">date<span class="pc">date: <span class="tp">date</span></span></a>,cal<span class="kw">=</span><a class="pp">cal<span class="pc">cal: <span class="tp">calendar</span></span></a>)){ <a class="pp" href="#ptime">ptime<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>ptime: <span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">,</span> <span class="tp tpp">cal</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">date<span class="pc">date: <span class="tp">date</span></span></a>,<a class="pp">cal<span class="pc">cal: <span class="tp">calendar</span></span></a>) </span>}

<span class="decl-fun" id="ptime"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#ptime">ptime<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>ptime: <span class="tp sp">(</span><span class="tp tpp">date</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">,</span> <span class="tp tpp">cal</span> <span class="tp kw op">:</span> <span class="tp">calendar</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">date<span class="pc">date: <span class="tp">date</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_time_date-source.html#type_space_date"><span class="tp">date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>date: <span class="co">V</span></span></a>, <a class="pp">cal<span class="pc">cal: <span class="tp">calendar</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_time_calendar-source.html#type_space_calendar"><span class="tp">calendar</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>calendar: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_total"><span class="tp"><span class="effect">&lt;</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>total: <span class="co">E</span></span></a><a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="std_time_utc-source.html#type_space_utc"><span class="tp">utc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>utc<span class="fslash last">/</span></span>utc: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&gt;</span> <a class="pp" href="std_time_time-source.html#type_space_time"><span class="tp">time</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time<span class="fslash last">/</span></span>time: <span class="co">V</span></span></a>
  <a class="pp" href="std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">"T "<span class="pc">literal: <span class="tp">string</span><br>count= 2</span></a>)
  <span class="kw">val</span> <a class="pp">hour<span class="pc">hour: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
  <a class="pp" href="#colon">colon<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>colon: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
  <span class="kw">val</span> <a class="pp">min<span class="pc">min: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">0<span class="pc">literal: <span class="tp">int</span><br>dec  = 0<br>hex8 = 0x00<br>bit8 = 0b00000000</span></a>){<a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)}
  <a class="pp" href="#colon">colon<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>colon: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
  <span class="kw">val</span> <a class="pp">secs<span class="pc">secs: <span class="tp">ddouble</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">ddouble</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">ddouble</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">ddouble</span></span></a>(<a class="pp" href="std_num_ddouble-source.html#zero">ddouble/zero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>zero: <span class="tp">ddouble</span></span></a>) { <span class="kw">val</span> <a class="pp">s<span class="pc">s: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>) 
                                      <span class="kw">val</span> <a class="pp">f<span class="pc">f: <span class="tp">string</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">string</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">string</span></span></a>(<a class="pp">""<span class="pc">literal: <span class="tp">string</span><br>count= 0</span></a>){ <a class="pp" href="std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">".,"<span class="pc">literal: <span class="tp">string</span><br>count= 2</span></a>); <a class="pp" href="std_text_parse-source.html#digits">digits<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>digits: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">string</span></span></a>() }
                                      (<a class="pp">s<span class="pc">s: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="std_num_ddouble-source.html#int_fs_ddouble">ddouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span><span class="lq">int<span class="fslash">/</span></span>ddouble: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">ddouble</span></span></a> <a class="pp" href="std_num_ddouble-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">ddouble</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">ddouble</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">ddouble</span></span></a> (<span class="kw">if</span> <a class="pp">f<span class="pc">f: <span class="tp">string</span></span></a><span class="kw op">.</span><a class="pp" href="std_core_string-source.html#is_empty">is-empty<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>string<span class="fslash last">/</span></span>is<span class="dash">-</span>empty: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">bool</span></span></a> <span class="kw">then</span> <a class="pp" href="std_num_ddouble-source.html#zero">zero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>zero: <span class="tp">ddouble</span></span></a> <span class="kw">else</span> (<a class="pp">"0."<span class="pc">literal: <span class="tp">string</span><br>count= 2</span></a> <a class="pp" href="std_core_types-source.html#_plus__plus_">++<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>(++): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">string</span></span></a> <a class="pp">f<span class="pc">f: <span class="tp">string</span></span></a>)<span class="kw op">.</span><a class="pp" href="std_num_ddouble-source.html#parse_ddouble">parse-ddouble<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>parse<span class="dash">-</span>ddouble: <span class="tp sp">(</span><span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">ddouble</span><span class="tp sp">&gt;</span></span></a><span class="kw op">.</span><a class="pp" href="std_core_maybe-source.html#default">default<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>maybe<span class="fslash last">/</span></span>default: <span class="tp sp">(</span><span class="tp tpp">m</span> <span class="tp kw op">:</span> <span class="tp">maybe</span><span class="tp sp">&lt;</span><span class="tp">ddouble</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">nothing</span> <span class="tp kw op">:</span> <span class="tp">ddouble</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">ddouble</span></span></a>(<a class="pp" href="std_num_ddouble-source.html#zero">zero<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>zero: <span class="tp">ddouble</span></span></a>))) } 
  <span class="kw">val</span> <a class="pp">tzone<span class="pc">tzone: <span class="tp">timezone</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#choose">choose<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>choose: <span class="tp sp">(</span><span class="tp tpp">ps</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">timezone</span><span class="tp sp">&gt;</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">timezone</span></span></a>(<a class="pp" href="std_core_types-source.html#con_space_Cons"><span class="co">[</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Cons: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">head</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">tail</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>
                { <span class="kw">val</span> <a class="pp">sign<span class="pc">sign: <span class="tp">char</span></span></a> <span class="kw">=</span> <a class="pp" href="std_text_parse-source.html#one_of">one-of<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>one<span class="dash">-</span>of: <span class="tp sp">(</span><span class="tp tpp">chars</span> <span class="tp kw op">:</span> <span class="tp">string</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">"+-"<span class="pc">literal: <span class="tp">string</span><br>count= 2</span></a>)
                  <span class="kw">val</span> <a class="pp">tzhour<span class="pc">tzhour: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
                  <a class="pp" href="#colon">colon<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>colon: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>()
                  <span class="kw">val</span> <a class="pp">tzmin<span class="pc">tzmin: <span class="tp">int</span></span></a> <span class="kw">=</span> <a class="pp" href="#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a>(<a class="pp">2<span class="pc">literal: <span class="tp">int</span><br>dec  = 2<br>hex8 = 0x02<br>bit8 = 0b00000010</span></a>)
                  <a class="pp" href="std_time_calendar-source.html#tz_fixed">tz-fixed<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>fixed: <span class="tp sp">(</span><span class="tp tpp">hours</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">mins</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">name</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">abbrv</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">string</span><span class="tp sp">,</span> <span class="tp tpp">hourwidth</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">timezone</span></span></a>( <span class="kw">if</span> <a class="pp">sign<span class="pc">sign: <span class="tp">char</span></span></a><a class="pp" href="std_core_char-source.html#_eq__eq_">==<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>char<span class="fslash last">/</span></span>(==): <span class="tp sp">(</span><span class="tp">char</span><span class="tp sp">,</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">bool</span></span></a><a class="pp">'-'<span class="pc">literal: <span class="tp">char</span><br>unicode= u002D</span></a> <span class="kw">then</span> <a class="pp">tzhour<span class="pc">tzhour: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="std_core_int-source.html#negate">negate<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int<span class="fslash last">/</span></span>negate: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">int</span></span></a> <span class="kw">else</span> <a class="pp">tzhour<span class="pc">tzhour: <span class="tp">int</span></span></a>, <a class="pp">tzmin<span class="pc">tzmin: <span class="tp">int</span></span></a> )
                }, 
                { <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">char</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">'Z'<span class="pc">literal: <span class="tp">char</span><br>unicode= u005A</span></a>){ <a class="pp" href="std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">parse</span><span class="tp sp">,</span><span class="tp">utc</span><span class="tp sp">&gt;</span> <span class="tp">char</span></span></a>(<a class="pp">'Z'<span class="pc">literal: <span class="tp">char</span><br>unicode= u005A</span></a>) }; <a class="pp" href="std_time_calendar-source.html#tz_utc">tz-utc<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>calendar<span class="fslash last">/</span></span>tz<span class="dash">-</span>utc: <span class="tp">timezone</span></span></a> }
              <a class="pp" href="std_core_types-source.html#con_space_Nil"><span class="co">]</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>Nil: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span></span></a>)
  <span class="kw">val</span> <a class="pp">clk<span class="pc">clk: <span class="tp">clock</span></span></a> <span class="kw">=</span> <a class="pp" href="std_time_date-source.html#con_space_Clock"><span class="co">Clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>Clock: <span class="tp sp">(</span><span class="tp tpp">hours</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">minutes</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">seconds</span> <span class="tp kw op">:</span> <span class="tp">ddouble</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">clock</span></span></a>(<a class="pp">hour<span class="pc">hour: <span class="tp">int</span></span></a>,<a class="pp">min<span class="pc">min: <span class="tp">int</span></span></a>,<a class="pp">secs<span class="pc">secs: <span class="tp">ddouble</span></span></a>)
  <a class="pp" href="std_time_time-source.html#date_fs_time">time<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>time<span class="fslash last">/</span></span><span class="lq">date<span class="fslash">/</span></span>time: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">date</span><span class="tp sp">,</span> <span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">clock</span><span class="tp sp">,</span> <span class="tp tpp">tz</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">timezone</span><span class="tp sp">,</span> <span class="tp tpp">cal</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">calendar</span><span class="tp sp">,</span> <span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp sp">?</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">utc</span><span class="tp sp">,</span><span class="tp">parse</span><span class="tp sp">&gt;</span> <span class="tp">time</span></span></a>(<a class="pp">date<span class="pc">date: <span class="tp">date</span></span></a>,<a class="pp">clk<span class="pc">clk: <span class="tp">clock</span></span></a>,tz<span class="kw">=</span><a class="pp">tzone<span class="pc">tzone: <span class="tp">timezone</span></span></a>,cal<span class="kw">=</span><a class="pp">cal<span class="pc">cal: <span class="tp">calendar</span></span></a></span>)

<span class="decl-fun" id="dash"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#dash">dash<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>dash: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="std_core_types-source.html#type_space_char"><span class="tp">char</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>char: <span class="co">V</span></span></a>
  <a class="pp" href="#optchar">optchar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optchar: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">'-'<span class="pc">literal: <span class="tp">char</span><br>unicode= u002D</span></a></span>)

<span class="decl-fun" id="colon"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#colon">colon<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>colon: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="std_core_types-source.html#type_space_char"><span class="tp">char</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>char: <span class="co">V</span></span></a>
  <a class="pp" href="#optchar">optchar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optchar: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">':'<span class="pc">literal: <span class="tp">char</span><br>unicode= u003A</span></a></span>)

<span class="decl-fun" id="optchar"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#optchar">optchar<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optchar: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">c<span class="pc">c: <span class="tp">char</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_char"><span class="tp">char</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>char: <span class="co">V</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="std_core_types-source.html#type_space_char"><span class="tp">char</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>char: <span class="co">V</span></span></a>
  <a class="pp" href="std_text_parse-source.html#optional">optional<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>optional: <span class="tp sp">(</span><span class="tp tpp">default</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">total</span><span class="tp sp">,</span><span class="tp">char</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">c<span class="pc">c: <span class="tp">char</span></span></a>,{<a class="pp" href="std_text_parse-source.html#char">char<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>char: <span class="tp sp">(</span><span class="tp tpp">c</span> <span class="tp kw op">:</span> <span class="tp">char</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">char</span></span></a>(<a class="pp">c<span class="pc">c: <span class="tp">char</span></span></a>)}</span>)

<span class="decl-fun" id="num"><span class="kw">fun</span> <a class="pp" href="std_time_parse.html#num">num<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>parse<span class="fslash last">/</span></span>num: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>( <a class="pp">n<span class="pc">n: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="std_text_parse-source.html#type_space_parse"><span class="tp">parse</span><span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>parse: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>
  <a class="pp" href="std_text_parse-source.html#count">count<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>count: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">p</span> <span class="tp kw op">:</span> <span class="tp">parser</span><span class="tp sp">&lt;</span><span class="tp">total</span><span class="tp sp">,</span><span class="tp">int</span><span class="tp sp">&gt;</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">int</span><span class="tp sp">&gt;</span></span></a>(<a class="pp">n<span class="pc">n: <span class="tp">int</span></span></a>,<a class="pp" href="std_text_parse-source.html#digit">digit<span class="pc"><span class="mo">std<span class="fslash">/</span>text<span class="fslash">/</span>parse<span class="fslash last">/</span></span>digit: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>)<span class="kw op">.</span><a class="pp" href="std_core_list-source.html#foldl">foldl<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>list<span class="fslash last">/</span></span>foldl: <span class="tp sp">(</span><span class="tp tpp">xs</span> <span class="tp kw op">:</span> <span class="tp">list</span><span class="tp sp">&lt;</span><span class="tp">int</span><span class="tp sp">&gt;</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>(<a class="pp">0<span class="pc">literal: <span class="tp">int</span><br>dec  = 0<br>hex8 = 0x00<br>bit8 = 0b00000000</span></a>, <a class="pp"><span class="kw">fn</span><span class="pc">fn: <span class="tp sp">(</span><span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a>(<a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a>,<a class="pp">x<span class="pc">x: <span class="tp">int</span></span></a>){ <a class="pp">x<span class="pc">x: <span class="tp">int</span></span></a><a class="pp" href="std_core_int-source.html#_star_">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int<span class="fslash last">/</span></span>(&#42;): <span class="tp sp">(</span><span class="tp">int</span><span class="tp sp">,</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a><a class="pp">10<span class="pc">literal: <span class="tp">int</span><br>dec  = 10<br>hex8 = 0x0A<br>bit8 = 0b00001010</span></a> <a class="pp" href="std_core_int-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">parse</span> <span class="tp">int</span></span></a> <a class="pp">d<span class="pc">d: <span class="tp">int</span></span></a> }</span>)

<span class="comment">/&#42;
pub fun parse-iso( s : string, calendar : calendar = cal-iso ) : &lt;utc&gt; maybe&lt;time&gt;
  match(s.find(rx-iso-date))
    Nothing -&gt; Nothing
    Just(capd) -&gt;
      val xyear = capd.num(1)
      val (date,cal) =
        if capd.groups[4] != "" then // ISO week date
          (Date(xyear,capd.num(4),capd.num(5,1)),cal-iso-week)
        elif capd.groups[6] != "" then // ISO day of the year
          (Date(xyear,1,capd.num(6)), calendar)
        elif capd.groups[7] != "" then // ISO month date
          (Date(xyear,capd.num(7),capd.num(8)), cal-iso-month)
        elif capd.groups[9] != "" then // ISO month date, day of the year
          (Date(xyear,1,capd.num(9)), cal-iso-month)
        else // (capd.groups[2] != "")  // regular ISO date
          (Date(xyear,capd.num(2),capd.num(3)),calendar)
      match(capd.slice.after.string.find(rx-iso-time))
        Nothing    -&gt; Nothing
        Just(capt) -&gt;
          val hours = capt.num(1)
          val mins  = capt.num(2)
          val secs  = parse-ddouble(capt.groups[3] + "." + capt.groups[4]).default(zero)
          val tzsign= if capt.groups[5]=="+" then 1 else ~1
          val tzhours= capt.num(6)
          val tzmins = capt.num(7)
          val tzone = tz-fixed(tzsign&#42;tzhours, tzmins)
          val clock = Clock(hours,mins,secs)
          Just(time(date,clock,tz=tzone,cal=cal))



val rx-iso-date = regex(r"^(\d\d\d\d)\-?(?:(\d\d)\-?(\d\d)|W(\d\d)\-?(\d)?|(\d\d\d)|M(\d\d)\-?(\d\d)|M(\d\d\d))(?=$|[T\+\- ]\d|Z)");
val rx-iso-time = regex(r"^(?:[T ](\d\d)(?:\:?(\d\d)(?:\:?(\d\d))?)?(?:[\.,](\d+))?)?(?:Z|([\+\-])(\d\d)(?:\:?(\d\d))?)?$")

fun num( cap : matched, group : int, default : int = 0 ) : int
  parse-int-default(cap.groups[group], default = default)

// Parse an [Internet Message Format](https://tools.ietf.org/html/rfc2822#section-3.3) time string.
// For example: &#96;"Tue, 27 Sep 2016 06:36:55 -0700"&#96;.
pub fun parse-imf( s : string ) : &lt;utc&gt; maybe&lt;time&gt;
  match(s.find(rx-imf))
    Nothing -&gt; Nothing
    Just(cap) -&gt;
      val day   = cap.num(2)
      val month = month-from-name(cap.groups[3]).default(1)
      val xyear = cap.num(4)
      val hours = cap.num(5)
      val mins  = cap.num(6)
      val secs  = cap.num(7)
      val tzsign= if cap.groups[8]=="+" then 1 else ~1
      val tzhours= cap.num(9)
      val tzmins = cap.num(10)
      val tzone = tz-fixed(tzsign&#42;tzhours, tzmins)
      // adjust 2 digit year
      val year  = if cap.groups[4].count &lt;= 2
                   then (if xyear &lt; 50 then 2000 + xyear else 1900 + xyear)
                   else xyear
      Just(time(year,month,day,hours,mins,secs,tz=tzone))


val rx-imf = regex(r"^ &#42;(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun) &#42;, &#42;)? (\d\d?) &#42;(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) &#42;(\d\d(?:\d\d)?) +(\d\d?):(\d\d?)(?::(\d\d))? &#42;(?:([\+\-])(\d\d)(\d\d) &#42;)?$")

fun month-from-name( mname : string ) : maybe&lt;int&gt;
  val lname = mname.to-lower
  fun search( names : list&lt;string&gt;, month : int ) : maybe&lt;int&gt;
    match names
      Nil -&gt; Nothing
      Cons(name,rest) -&gt;
        if (name.to-lower.starts-with(lname).bool)
         then Just(month)
         else search(rest,month+1)


  search(time-locale-en-iso.month-names,1)

&#42;/</span>
</pre>

</body>
</html>
