
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>std/time/instant documentation</title>
</head>

<body class="koka doc body madoko">
<h1><a class="link" href="std_time_instant-source.html"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant</span></a><a class="link" href="toc.html"><span class="toc-link">&#x25b2;toc</span></a></h1>
<div class="toc code"><ul class="toc"><li><a class="link" href="#type_space_instant"><span class="kw">type</span>&nbsp;<span class="tp">instant</span></a>
</li><li class="nested"><a class="link" href="#date_fs_gps_instant"><span class="kw">fun</span>&nbsp;<span class="lq">date<span class="fslash">/</span></span>gps<span class="dash">-</span>instant</a></li><li class="nested"><a class="link" href="#ddouble_fs_instant_at_jd"><span class="kw">fun</span>&nbsp;<span class="lq">ddouble<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></li><li class="nested"><a class="link" href="#ddouble_fs_instant_at_mjd"><span class="kw">fun</span>&nbsp;<span class="lq">ddouble<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></li><li class="nested"><a class="link" href="#duration_fs__dash_"><span class="kw">fun</span>&nbsp;<span class="lq">duration<span class="fslash">/</span></span>(<span class="dash">-</span>)</a></li><li class="nested"><a class="link" href="#duration_fs_gps_instant"><span class="kw">fun</span>&nbsp;<span class="lq">duration<span class="fslash">/</span></span>gps<span class="dash">-</span>instant</a></li><li class="nested"><a class="link" href="#duration_fs_instant"><span class="kw">fun</span>&nbsp;<span class="lq">duration<span class="fslash">/</span></span>instant</a></li><li class="nested"><a class="link" href="#duration_fs_tt_instant"><span class="kw">fun</span>&nbsp;<span class="lq">duration<span class="fslash">/</span></span>tt<span class="dash">-</span>instant</a></li><li class="nested"><a class="link" href="#float64_fs_instant_at_jd"><span class="kw">fun</span>&nbsp;<span class="lq">float64<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></li><li class="nested"><a class="link" href="#float64_fs_instant_at_mjd"><span class="kw">fun</span>&nbsp;<span class="lq">float64<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></li><li class="nested"><a class="link" href="#instant_fs_duration"><span class="kw">fun</span>&nbsp;<span class="lq">instant<span class="fslash">/</span></span>duration</a></li><li class="nested"><a class="link" href="#instant_fs_show"><span class="kw">fun</span>&nbsp;<span class="lq">instant<span class="fslash">/</span></span>show</a></li><li class="nested"><a class="link" href="#instant_fs_timescale"><span class="kw">fun</span>&nbsp;<span class="lq">instant<span class="fslash">/</span></span>timescale</a></li><li class="nested"><a class="link" href="#instant_fs_timestamp"><span class="kw">fun</span>&nbsp;<span class="lq">instant<span class="fslash">/</span></span>timestamp</a></li><li class="nested"><a class="link" href="#instant_fs_tt_instant"><span class="kw">fun</span>&nbsp;<span class="lq">instant<span class="fslash">/</span></span>tt<span class="dash">-</span>instant</a></li><li class="nested"><a class="link" href="#_excl__eq_"><span class="kw">fun</span>&nbsp;(!=)</a></li><li class="nested"><a class="link" href="#_plus_"><span class="kw">fun</span>&nbsp;(+)</a></li><li class="nested"><a class="link" href="#_dash_"><span class="kw">fun</span>&nbsp;(<span class="dash">-</span>)</a></li><li class="nested"><a class="link" href="#_lt_"><span class="kw">fun</span>&nbsp;(&lt;)</a></li><li class="nested"><a class="link" href="#_lt__eq_"><span class="kw">fun</span>&nbsp;(&lt;=)</a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#_eq__eq_"><span class="kw">fun</span>&nbsp;(==)</a></li><li class="nested"><a class="link" href="#_gt_"><span class="kw">fun</span>&nbsp;(&gt;)</a></li><li class="nested"><a class="link" href="#_gt__eq_"><span class="kw">fun</span>&nbsp;(&gt;=)</a></li><li class="nested"><a class="link" href="#add_days"><span class="kw">fun</span>&nbsp;add<span class="dash">-</span>days</a></li><li class="nested"><a class="link" href="#add_duration_in"><span class="kw">fun</span>&nbsp;add<span class="dash">-</span>duration<span class="dash">-</span>in</a></li><li class="nested"><a class="link" href="#cmp"><span class="kw">fun</span>&nbsp;cmp</a></li><li class="nested"><a class="link" href="#days"><span class="kw">fun</span>&nbsp;days</a></li><li class="nested"><a class="link" href="#days_clock"><span class="kw">fun</span>&nbsp;days<span class="dash">-</span>clock</a></li><li class="nested"><a class="link" href="#epoch"><span class="kw">val</span>&nbsp;epoch</a></li><li class="nested"><a class="link" href="#gps_timestamp"><span class="kw">fun</span>&nbsp;gps<span class="dash">-</span>timestamp</a></li><li class="nested"><a class="link" href="#gps_week_timestamp"><span class="kw">fun</span>&nbsp;gps<span class="dash">-</span>week<span class="dash">-</span>timestamp</a></li><li class="nested"><a class="link" href="#jd"><span class="kw">fun</span>&nbsp;jd</a></li><li class="nested"><a class="link" href="#max"><span class="kw">fun</span>&nbsp;max</a></li><li class="nested"><a class="link" href="#min"><span class="kw">fun</span>&nbsp;min</a></li><li class="nested"><a class="link" href="#mjd"><span class="kw">fun</span>&nbsp;mjd</a></li><li class="nested"><a class="link" href="#round_to_prec"><span class="kw">fun</span>&nbsp;round<span class="dash">-</span>to<span class="dash">-</span>prec</a></li><li class="nested"><a class="link" href="#seconds_in_day"><span class="kw">fun</span>&nbsp;seconds<span class="dash">-</span>in<span class="dash">-</span>day</a></li><li class="nested"><a class="link" href="#show_raw"><span class="kw">fun</span>&nbsp;show<span class="dash">-</span>raw</a></li><li class="nested"><a class="link" href="#timestamp_in"><span class="kw">fun</span>&nbsp;timestamp<span class="dash">-</span>in</a></li><li class="nested"><a class="link" href="#use_timescale"><span class="kw">fun</span>&nbsp;use<span class="dash">-</span>timescale</a></li></ul><ul class="toc"><li><a class="link" href="#type_space_timescale"><span class="kw">type</span>&nbsp;<span class="tp">timescale</span></a>
</li><li class="nested"><a class="link" href="#date_fs_instant"><span class="kw">fun</span>&nbsp;<span class="lq">date<span class="fslash">/</span></span>instant</a></li><li class="nested"><a class="link" href="#timescale_fs__eq__eq_"><span class="kw">fun</span>&nbsp;<span class="lq">timescale<span class="fslash">/</span></span>(==)</a></li><li class="nested"><a class="link" href="#timescale_fs_instant"><span class="kw">fun</span>&nbsp;<span class="lq">timescale<span class="fslash">/</span></span>instant</a></li><li class="nested"><a class="link" href="#timescale_fs_name"><span class="kw">fun</span>&nbsp;<span class="lq">timescale<span class="fslash">/</span></span>name</a></li><li class="nested"><a class="link" href="#from_tai"><span class="kw">fun</span>&nbsp;from<span class="dash">-</span>tai</a></li><li class="nested"><a class="link" href="#has_leap_seconds"><span class="kw">fun</span>&nbsp;has<span class="dash">-</span>leap<span class="dash">-</span>seconds</a></li><li class="nested"><a class="link" href="#tai_timescale"><span class="kw">fun</span>&nbsp;tai<span class="dash">-</span>timescale</a></li><li class="nested"><a class="link" href="#timescale"><span class="kw">fun</span>&nbsp;timescale</a></li><li class="nested"><a class="link" href="#to_tai"><span class="kw">fun</span>&nbsp;to<span class="dash">-</span>tai</a></li><li class="nested"><a class="link" href="#ts_gps"><span class="kw">val</span>&nbsp;ts<span class="dash">-</span>gps</a></li><li class="nested"><a class="link" href="#ts_tai"><span class="kw">val</span>&nbsp;ts<span class="dash">-</span>tai</a></li><li class="nested"><a class="link" href="#ts_tt"><span class="kw">val</span>&nbsp;ts<span class="dash">-</span>tt</a></li><li>&nbsp;</li><li><a class="link" href="#timestamp_fs_show"><span class="kw">fun</span>&nbsp;<span class="lq">timestamp<span class="fslash">/</span></span>show</a></li></ul></div>
<div class="doc koka comment">
<h1 class="synopsis">Instants in time.</h1>



<p class="p noindent">Instants use the mighty 128-bit <code class="koka"><a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a></code> timestamps to represent a <code class="koka"><a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></code>
since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>.
This gives very high range and precision (up 31 decimal digits).
It spans about 10<sup>300</sup> years
into the past and future, well beyond the expected life span of the universe.
Any time can be expressed with atto-second (10<sup>-18</sup>) precision
up to about 300,000 years in the past and future, and with pico-second (10<sup>-12</sup>)
precision any time since the age of the universe (about 13.8 billion years ago)
up to 30 billion years into the future. For durations under 300 years, the precision
is in excess of a zepto second (10<sup>-21</sup>). For comparison, it takes light about
500 zepto-seconds to travel the length of an hydrogen atom.
</p><pre class="koka source unchecked"><span class="plaincode">&gt; instant(2100,1,1,0,0,0,1.0e-21).show(21)  // 1 zepto-second after Jan 1, 2100
"3155760037.000000000000000000001s"
&gt; instant(300000,1,1,0,0,0,1.0e-18).show(18) // 1 atto-second after Jan 1, 300000
"9403971696037.000000000000000001s"
&gt; instant(-13.82e9.int,1,1,0,0,0,1.0e-12).show(12) // 1 pico-second after the birth of the universe
"-436117139753903999.999999999999s"
</span><span class="nicecode"><span class="op">&gt;</span> instant(<span class="number">2100</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1.0e-21</span>)<span class="kw op">.</span>show(<span class="number">21</span>)  <span class="comment">// 1 zepto-second after Jan 1, 2100
</span><span class="st">"3155760037.000000000000000000001s"</span>
<span class="op">&gt;</span> instant(<span class="number">300000</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1.0e-18</span>)<span class="kw op">.</span>show(<span class="number">18</span>) <span class="comment">// 1 atto-second after Jan 1, 300000
</span><span class="st">"9403971696037.000000000000000001s"</span>
<span class="op">&gt;</span> instant(<span class="number">-13.82e9</span><span class="kw op">.</span>int,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1.0e-12</span>)<span class="kw op">.</span>show(<span class="number">12</span>) <span class="comment">// 1 pico-second after the birth of the universe
</span><span class="st">"-436117139753903999.999999999999s"</span>
</span></pre>



<p class="p noindent">Internally, instants are represented in a certain time scale (<code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></code>) for
efficiency and precision. They automatically convert between different time scales
when necessary (for example when comparing instants in time, or calculating durations
between UTC calendar times).
</p>
<p class="p indent">Time durations (<code class="koka"><a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></code>) are always in SI seconds (as measured on the Earth&#39;s geoid).
</p><h3 id="sec-references" class="clearnum h2" data-heading-depth="2" style="display:block">References</h3>
<div class="bibliography" data-hanging-indent="0" style="bibstyle:madoko-numeric">

<div id="blackbody" class="bibitem" data-cite-label="1" style="text-indent:-2rem;margin-left:2rem;bibitem-label:[1];searchterm:Claudine+Thomas+Accuracy+of+TAI"><span class="bibitem-before" style="padding-right:0.5em;display: inline-block; width:calc(2rem - 0.5em);display: inline-block; text-align:right;font-size:90%">[1]</span>Claudine Thomas,
<em class="em-low1">The Accuracy of TAI</em>.
Proceedings of the 29th Annual Precise Time and Time Interval Systems and Applications Meeting,
Long Beach, California, December 1997, pp. 19&#8211;26.&nbsp;<a href="https://tycho.usno.navy.mil/ptti/1997papers/Vol%2029_02.pdf">pdf</a>&nbsp;<a href="http://www.bing.com/search?q=Claudine+Thomas+Accuracy+of+TAI" class="bibsearch">&#128270;</a></div></div>
<p class="p noindent">.
</p></div>
<div class="decl" id="type_space_instant"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="std_time_instant-source.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></span></span><span class="tp"></span></div><div class="doc koka comment">

<p class="p noindent"> Represents a precise instant in time.
</p>
<p class="p indent">Internally, instants are represented in a certain time scale (<code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></code>) for
efficiency and precision. They automatically convert between different time scales
when necessary (for example when comparing instants in time, or calculating durations
between UTC calendar times).
</p></div><div class="nested"><div class="decl" id="date_fs_gps_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#date_fs_gps_instant"><span class="lq">date<span class="fslash">/</span></span>gps<span class="dash">-</span>instant</a></span>( <span class="tp tpp">weeks</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">secs</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant from a GPS time in weeks and SI seconds since the GPS epoch (1980-01-06Z).
</p></div></div><div class="decl" id="ddouble_fs_instant_at_jd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#ddouble_fs_instant_at_jd"><span class="lq">ddouble<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></span>( <span class="tp tpp">jd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">julian day</a>
and time scale <code class="koka">ts</code> .
</p></div></div><div class="decl" id="ddouble_fs_instant_at_mjd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#ddouble_fs_instant_at_mjd"><span class="lq">ddouble<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></span>( <span class="tp tpp">mjd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">modified julian day</a>.
and time scale <code class="koka">ts</code>.<br>
<code class="koka">modified<span class="dash">-</span>julian<span class="dash">-</span>day <span class="kw">=</span> julian<span class="dash">-</span>day <span class="op"><span class="minus">-</span></span> <span class="number">2400000.5</span></code>.
</p></div></div><div class="decl" id="duration_fs__dash_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#duration_fs__dash_"><span class="lq">duration<span class="fslash">/</span></span>(<span class="dash">-</span>)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Subtract a duration from an instant in time.
</p></div></div><div class="decl" id="duration_fs_gps_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#duration_fs_gps_instant"><span class="lq">duration<span class="fslash">/</span></span>gps<span class="dash">-</span>instant</a></span>( <span class="tp tpp">gps</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant from a raw GPS time since the GPS epoch (1980-01-06Z).
</p></div></div><div class="decl" id="duration_fs_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#duration_fs_instant"><span class="lq">duration<span class="fslash">/</span></span>instant</a></span>( <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the instant at (TAI) SI seconds duration since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>.
</p></div></div><div class="decl" id="duration_fs_tt_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#duration_fs_tt_instant"><span class="lq">duration<span class="fslash">/</span></span>tt<span class="dash">-</span>instant</a></span>( <span class="tp tpp">tt</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant from a raw TT time since the TT epoch (1977-01-01 TAI).
</p></div></div><div class="decl" id="float64_fs_instant_at_jd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#float64_fs_instant_at_jd"><span class="lq">float64<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></span>( <span class="tp tpp">jd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">julian day</a>.
</p></div></div><div class="decl" id="float64_fs_instant_at_mjd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#float64_fs_instant_at_mjd"><span class="lq">float64<span class="fslash">/</span></span>instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></span>( <span class="tp tpp">mjd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">modified julian day</a>.
and time scale <code class="koka">ts</code>.<br>
<code class="koka">modified<span class="dash">-</span>julian<span class="dash">-</span>day <span class="kw">=</span> julian<span class="dash">-</span>day <span class="op"><span class="minus">-</span></span> <span class="number">2400000.5</span></code>.
</p></div></div><div class="decl" id="instant_fs_duration"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_fs_duration"><span class="lq">instant<span class="fslash">/</span></span>duration</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the (TAI) SI second duration since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> at this instant.
</p></div></div><div class="decl" id="instant_fs_show"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_fs_show"><span class="lq">instant<span class="fslash">/</span></span>show</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Show an instant as a number of (TAI) SI seconds since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> in a given precision.
This can be used as an unambigious time stamp.
</p></div></div><div class="decl" id="instant_fs_timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_fs_timescale"><span class="lq">instant<span class="fslash">/</span></span>timescale</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the time scale that instant <code class="koka">i</code> uses.
</p></div></div><div class="decl" id="instant_fs_timestamp"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_fs_timestamp"><span class="lq">instant<span class="fslash">/</span></span>timestamp</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return <code class="koka"><a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a></code> since 2000-01-01 in the time scale of the instant.
</p></div></div><div class="decl" id="instant_fs_tt_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_fs_tt_instant"><span class="lq">instant<span class="fslash">/</span></span>tt<span class="dash">-</span>instant</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Get the TT time in SI seconds since the TT epoch (1977-01-01 TAI).
</p></div></div><div class="decl" id="_excl__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_excl__eq_">(!=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="_plus_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_plus_">(+)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Add a duration to an instant in time.
Note: this generally entails conversion to TAI time (<code class="koka"><a class="pp" href="#ts_tai">ts<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts<span class="dash">-</span>tai: <span class="tp">timescale</span></span></a></code>).
See also <code class="koka"><a class="pp" href="#add_duration_in">add<span class="dash">-</span>duration<span class="dash">-</span>in<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>add<span class="dash">-</span>duration<span class="dash">-</span>in: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">,</span> <span class="tp tpp">tscale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">,</span> <span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">timespan</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">instant</span></span></a></code> and <code class="koka">add<span class="dash">-</span>days</code> to add
in direct time scale units.
</p></div></div><div class="decl" id="_dash_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_dash_">(<span class="dash">-</span>)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the duration between to instants in time.
</p></div></div><div class="decl" id="_lt_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_lt_">(&lt;)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="_lt__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_lt__eq_">(&lt;=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="_eq__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_eq__eq_">(==)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="_gt_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_gt_">(&gt;)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="_gt__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_gt__eq_">(&gt;=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div></div><div class="decl" id="add_days"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#add_days">add<span class="dash">-</span>days</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">days</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Add <code class="koka">days</code> days to the instant.
</p></div></div><div class="decl" id="add_duration_in"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#add_duration_in">add<span class="dash">-</span>duration<span class="dash">-</span>in</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent"> Add a duration of <code class="koka">t</code> seconds of time scale <code class="koka">tscale</code>.
This can for example be used to add Unix or NTP seconds where leap seconds
are ignored (allthough it is recommended in that case to use
<code class="koka"><span class="tp">time</span></code> and add logical days etc).
</p>
<p class="p indent"><pre class="koka source"><span class="plaincode">&#62; instant(2005,12,31).add-duration-in( ts-unix, (24&#42;3600).timespan ).time
2006-01-01T00:00:00Z
</p>
<p class="p indent">&#62; (instant(2005,12,31) + 24.hours).time
2005-12-31T23:59:60Z
</span><span class="nicecode"><span class="op">&#62;</span> instant(<span class="number">2005</span>,<span class="number">12</span>,<span class="number">31</span>)<span class="kw op">.</span><a class="pp" href="#add_duration_in">add<span class="dash">-</span>duration<span class="dash">-</span>in<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>add<span class="dash">-</span>duration<span class="dash">-</span>in: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">,</span> <span class="tp tpp">tscale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">,</span> <span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">timespan</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">instant</span></span></a>( ts<span class="dash">-</span>unix, (<span class="number">24</span><span class="op">&#42;</span><span class="number">3600</span>)<span class="kw op">.</span>timespan )<span class="kw op">.</span>time
<span class="number">2006</span><span class="number">-0</span><span class="number">1</span><span class="number">-0</span><span class="number">1</span><span class="co">T00</span><span class="tp kw op">:</span><span class="number">0</span><span class="number">0</span><span class="tp kw op">:</span><span class="number">0</span><span class="number">0</span><span class="co">Z</span>
</p>
<p class="p indent"><span class="op">&#62;</span> (instant(<span class="number">2005</span>,<span class="number">12</span>,<span class="number">31</span>) <span class="op">+</span> <span class="number">24</span><span class="kw op">.</span>hours)<span class="kw op">.</span>time
<span class="number">2005</span><span class="number">-12</span><span class="number">-31</span><span class="co">T23</span><span class="tp kw op">:</span><span class="number">59</span><span class="tp kw op">:</span><span class="number">60</span><span class="co">Z</span>
</span></pre>.
</p></div></div><div class="decl" id="cmp"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#cmp">cmp</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_order"><span class="tp">order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>order: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Compare two <code class="koka"><a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></code>s in time.
</p></div></div><div class="decl" id="days"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#days">days</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return days since 2000-01-01 in the time scale of the instant.
</p></div></div><div class="decl" id="days_clock"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#days_clock">days<span class="dash">-</span>clock</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="std_time_date.html#type_space_clock"><span class="tp">clock</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date<span class="fslash last">/</span></span>clock: <span class="co">V</span></span></a><span class="tp sp">)</span></div><div class="doc koka comment">

<p class="p noindent">Return days since 2000-01-01 in the time scale of the instant,
together with the clock on that day.
</p></div></div><div class="decl" id="epoch"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#epoch">epoch</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Our epoch is set at 2000-01-01 TAI (which is equal to 1999-12-31T23:59:28Z UTC).
</p>
<p class="p indent">Another candidate epoch could have been the standard&nbsp;<a href="https://en.wikipedia.org/wiki/Equinox_(celestial_coordinates)#J2000.0." data-linkid="j2000">J2000</a> epoch (<a href="std_time_astro.html#epoch_j2000"><code class="koka">epoch<span class="dash">-</span>j2000</code></a>),
which equals 2000-01-01T12:00:00 TT (terrestrial time).
However, that would mean that for the most common time scales, namely UTC and TAI, there would always be a
fractional offset (of 32.184s) for common time stamps. Moreover, by having an epoch at noon there would be
an extra correction needed for calendar date calculations too.
</p>
<p class="p indent">Similarly, the standard Unix epoch of 1970-01-01Z UTC is not ideal either since the UTC offset with TAI
was fractional at that time (namely 8.000082s).
</p>
<p class="p indent">Finally, after 1996, TAI was corrected for black-body radiation&nbsp;<span class="citations" style="target-element:bibitem">[<a href="#blackbody" class="bibref localref" style="target-element:bibitem"><span class="cite-number">1</span></a>]</span> which makes
the 2000-01-01 epoch a very precisely defined point in time.
</p></div></div><div class="decl" id="gps_timestamp"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#gps_timestamp">gps<span class="dash">-</span>timestamp</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Get the GPS time in SI seconds since the GPS epoch (1980-01-06Z).
</p></div></div><div class="decl" id="gps_week_timestamp"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#gps_week_timestamp">gps<span class="dash">-</span>week<span class="dash">-</span>timestamp</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">,</span> <a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a><span class="tp sp">)</span></div><div class="doc koka comment">

<p class="p noindent">Get the GPS time as weeks and SI seconds in the week since the GPS epoch (1980-01-06Z).
</p></div></div><div class="decl" id="jd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#jd">jd</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent"> Return the julian day in a given time scale <code class="koka">ts</code> for an instant <code class="koka">i</code>.
Properly takes leap seconds into account when calculating the fraction of the day
in a UTC calendar. For example:
</p>
<pre class="para-block pre-fenced pre-fenced4" style="display:block"><code>&gt; time(2014,12,31,23,59,59).jd
2457023.499988425925926

&gt; time(2015,12,31,23,59,59).jd
2457388.499988425925926

&gt; time(2016,12,31,23,59,59).jd
2457754.499976852119767

&gt; time(2016,12,31,23,59,60).jd
2457754.499988426059884</code></pre>
<p class="p noindent para-continued">.
</p></div></div><div class="decl" id="max"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#max">max</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The maximum of two instants.
</p></div></div><div class="decl" id="min"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#min">min</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The minimum of two instants.
</p></div></div><div class="decl" id="mjd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#mjd">mjd</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">tzdelta</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the modified julian day in a given time scale <code class="koka">ts</code> for an instant <code class="koka">i</code>.
Can also pass an optional <code class="koka">delta</code> (=<code class="koka"><a class="pp" href="std_time_timestamp.html#timespan0">timespan0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan0: <span class="tp">timespan</span></span></a></code>) that is added to the raw timestamp of <code class="koka">i</code>
before conversion (used in <code class="koka"><a class="doc link" href="std_time.html#time">time</a></code> to take timezones into account).
</p></div></div><div class="decl" id="round_to_prec"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#round_to_prec">round<span class="dash">-</span>to<span class="dash">-</span>prec</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">prec</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Round an instant to a certain precision (<code class="koka">prec</code> is number of digits of the fraction of the second).<br>
Takes special care for instants that use a UTC timescale to round into leap seconds if appropriate.
</p></div></div><div class="decl" id="seconds_in_day"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#seconds_in_day">seconds<span class="dash">-</span>in<span class="dash">-</span>day</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The seconds in the day of instant <code class="koka">i</code> (in its time scale).
</p></div></div><div class="decl" id="show_raw"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#show_raw">show<span class="dash">-</span>raw</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">unit</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Internal: show an instant as a raw timestamp in a given precision, postfixed with the time scale name.
</p></div></div><div class="decl" id="timestamp_in"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timestamp_in">timestamp<span class="dash">-</span>in</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return a <code class="koka"><a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a></code> for instant <code class="koka">i</code> in a certain time scale <code class="koka">tscale</code>.
</p></div></div><div class="decl" id="use_timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#use_timescale">use<span class="dash">-</span>timescale</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Change the internal representation of an instant to use another timescale.
Only used in special cases for efficiency. For example, when comparing an
instant in TAI time to thousands of UTC times, it is more efficient to convert
the TAI time to UTC first to avoid converting at each comparision.
</p></div></div></div></div>
<div class="decl" id="type_space_timescale"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="std_time_instant-source.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></span></span><span class="tp"></span></div><div class="doc koka comment">

<p class="p noindent">A time scale defines how time is measured: the rate and unit of time,
and how it can be converted to- and from TAI.<br>
For time calculations, usually the&nbsp;<a href="https://en.wikipedia.org/wiki/International_Atomic_Time">TAI</a>
(international atomic time) time scale (<code class="koka"><a class="pp" href="#ts_tai">ts<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts<span class="dash">-</span>tai: <span class="tp">timescale</span></span></a></code>) is used which is time measured as SI seconds on the Earths geoid.
Another common time scale is UTC (<code class="koka"><a class="doc link" href="std_time_utc.html#ts_utc">ts<span class="dash">-</span>utc</a></code>) which also uses SI second time units but can contain leap seconds.
</p></div><div class="nested"><div class="decl" id="date_fs_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#date_fs_instant"><span class="lq">date<span class="fslash">/</span></span>instant</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">days</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">secs</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a>, <span class="tp tpp">leap</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the instant in time scale <code class="koka">ts</code>, <code class="koka">days</code> and <code class="koka">secs</code> after 2000-01-01 in that timescale.
</p></div></div><div class="decl" id="timescale_fs__eq__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_fs__eq__eq_"><span class="lq">timescale<span class="fslash">/</span></span>(==)</a></span>( <span class="tp tpp">t1</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">t2</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Are two timescales the same?
</p></div></div><div class="decl" id="timescale_fs_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_fs_instant"><span class="lq">timescale<span class="fslash">/</span></span>instant</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create an instant from a time stamp <code class="koka">t</code> interpreted in time scale <code class="koka">ts</code>.<br>
Be careful to ensure that <code class="koka">t</code> should indeed be interpreted in the given time scale.
</p></div></div><div class="decl" id="timescale_fs_name"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_fs_name"><span class="lq">timescale<span class="fslash">/</span></span>name</a></span>( <span class="tp op">^</span><span class="tp tpp">timescale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Automatically generated. Retrieves the <code class="koka">name</code> constructor field of the <code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></code> type.
</p></div></div><div class="decl" id="from_tai"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#from_tai">from<span class="dash">-</span>tai</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Given a <code class="koka"><a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></code> since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>, return a <code class="koka"><a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a></code> for that instant in time scale <code class="koka">ts</code>.
</p></div></div><div class="decl" id="has_leap_seconds"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#has_leap_seconds">has<span class="dash">-</span>leap<span class="dash">-</span>seconds</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Does this timescale have leap seconds?
</p></div></div><div class="decl" id="tai_timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#tai_timescale">tai<span class="dash">-</span>timescale</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>, <span class="tp tpp">offset</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create a new time scale based on SI seconds (as measured on the Earth&#39;s geoid) with a given
 <code class="koka">name</code>, a fixed <code class="koka">offset</code> (=<code class="koka"><a class="pp" href="std_time_duration.html#duration0">duration0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration0: <span class="tp">duration</span></span></a></code>) from TAI (e.g. GPS = TAI - 19), and
a <code class="koka">epoch<span class="dash">-</span>y2k</code> (= <code class="koka"><a class="pp" href="std_time_timestamp.html#timestamp0">timestamp0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp0: <span class="tp">timestamp</span></span></a></code>) which is the timestamp of the 2000-01-01 date in that timescale
e.g. for a timescale <code class="koka">ts</code>:<br>
<code class="koka">epoch<span class="dash">-</span>y2k <span class="kw">=</span> instant(<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>,cal<span class="kw">=</span>iso<span class="dash">-</span>calendar(ts))<span class="kw op">.</span>since<span class="dash">-</span>in(ts)</code>.
</p></div></div><div class="decl" id="timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale">timescale</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>, <span class="tp tpp">from<span class="dash">-</span>tai</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a>, <span class="tp tpp">to<span class="dash">-</span>tai</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a>, <span class="tp tpp">unit</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a>, <span class="tp tpp">seconds<span class="dash">-</span>in<span class="dash">-</span>day</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <span class="tp sp">(</span><a class="pp" href="std_core_types.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp sp">(</span><a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <span class="tp tpp">to<span class="dash">-</span>mjd2000</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <span class="tp sp">(</span><a class="pp" href="std_core_types.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tpp">t</span> <span class="tp kw op">:</span> <a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">tzdelta</span> <span class="tp kw op">:</span> <a class="pp" href="std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span>, <span class="tp tpp">from<span class="dash">-</span>mjd2000</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <span class="tp sp">(</span><a class="pp" href="std_core_types.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>maybe: <span class="co">V</span> <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">&lt;</span><span class="tp sp">(</span><span class="tp tpp">days</span> <span class="tp kw op">:</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a><span class="tp sp">,</span> <span class="tp tpp">frac</span> <span class="tp kw op">:</span> <a class="pp" href="std_num_ddouble.html#type_space_ddouble"><span class="tp">ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble<span class="fslash last">/</span></span>ddouble: <span class="co">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a><span class="tp sp">&gt;</span><span class="tp sp">)</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Create a new time scale given <code class="koka">name</code>, two inverse function <code class="koka"><a class="pp" href="#from_tai">from<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>from<span class="dash">-</span>tai: <span class="tp sp">(</span><span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">,</span> <span class="tp tpp">d</span> <span class="tp kw op">:</span> <span class="tp">duration</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timestamp</span></span></a></code> and <code class="koka"><a class="pp" href="#to_tai">to<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>to<span class="dash">-</span>tai: <span class="tp sp">(</span><span class="tp tpp">ts</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">,</span> <span class="tp tpp">t</span> <span class="tp kw op">:</span> <span class="tp">timestamp</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">duration</span></span></a></code>,
and an optional function that returns the seconds in the day of the instant.
The time unit defaults to <code class="koka">name</code>.
</p></div></div><div class="decl" id="to_tai"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#to_tai">to<span class="dash">-</span>tai</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a>, <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Return the <code class="koka"><a class="pp" href="std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="co">V</span></span></a></code> since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> for a timestamp <code class="koka">t</code> interpreted in time scale <code class="koka">ts</code>.
</p></div></div><div class="decl" id="ts_gps"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#ts_gps">ts<span class="dash">-</span>gps</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The&nbsp;<a href="https://en.wikipedia.org/wiki/Global_Positioning_System#Timekeeping">GPS</a> time scale based
on SI seconds with a 1980-01-06 GPS epoch.<br>
GPS = TAI - 19s.
</p></div></div><div class="decl" id="ts_tai"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#ts_tai">ts<span class="dash">-</span>tai</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The&nbsp;<a href="https://en.wikipedia.org/wiki/International_Atomic_Time">TAI</a> (International atomic time)
time scale is based on SI seconds measured on the Earth&#39;s geoid, with a 2000-01-01 TAI <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>.
</p></div></div><div class="decl" id="ts_tt"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#ts_tt">ts<span class="dash">-</span>tt</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">The&nbsp;<a href="https://en.wikipedia.org/wiki/Terrestrial_Time">TT</a> (Terrestrial time)
time scale is based on SI seconds with a 1977-01-01 TAI <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>. It is the
continuation of TDT (Terrestrial dynamic time) and ET (Ephemeris time). TT
is defined as: TT = TAI + 32.184s.
</p></div></div></div></div>
<div class="decl" id="timestamp_fs_show"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timestamp_fs_show"><span class="lq">timestamp<span class="fslash">/</span></span>show</a></span>( <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="co">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <span class="tp tpp">unit</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">?</span> <a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="std_core_types.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>string: <span class="co">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">Show a timestamp with an optional maximum precision (<code class="koka">max<span class="dash">-</span>prec</code> (=<code class="koka"><span class="number">9</span></code>)) and
minimum width for the seconds (=<code class="koka"><span class="number">1</span></code>).
</p></div></div>
<div class="decl" id="-private-imports"><div class="header code"><span class="def"><span class="kw">private import</span>&nbsp;<span class="code"><a class="pp" href="std_core_types.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types</span></span></a></span>, <span class="code"><a class="pp" href="std_core_hnd.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>hnd</span></span></a></span>, <span class="code"><a class="pp" href="std_core_exn.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>exn</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>exn</span></span></a></span>, <span class="code"><a class="pp" href="std_core_bool.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>bool</span></span></a></span>, <span class="code"><a class="pp" href="std_core_order.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>order</span></span></a></span>, <span class="code"><a class="pp" href="std_core_char.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>char</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>char</span></span></a></span>, <span class="code"><a class="pp" href="std_core_int.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int</span></span></a></span>, <span class="code"><a class="pp" href="std_core_vector.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>vector</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>vector</span></span></a></span>, <span class="code"><a class="pp" href="std_core_string.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>string</span></span></a></span>, <span class="code"><a class="pp" href="std_core_sslice.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>sslice</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>sslice</span></span></a></span>, <span class="code"><a class="pp" href="std_core_list.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>list</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>list</span></span></a></span>, <span class="code"><a class="pp" href="std_core_maybe.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>maybe</span></span></a></span>, <span class="code"><a class="pp" href="std_core_either.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>either</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>either</span></span></a></span>, <span class="code"><a class="pp" href="std_core_tuple.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>tuple</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>tuple</span></span></a></span>, <span class="code"><a class="pp" href="std_core_show.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>show</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>show</span></span></a></span>, <span class="code"><a class="pp" href="std_core_debug.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>debug</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>debug</span></span></a></span>, <span class="code"><a class="pp" href="std_core_delayed.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>delayed</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>delayed</span></span></a></span>, <span class="code"><a class="pp" href="std_core_console.html#_null_"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>console</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>console</span></span></a></span>, <span class="code"><a class="pp" href="std_core.html#_null_"><span class="mo">std<span class="fslash">/</span>core</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core</span></span></a></span>, <span class="code"><a class="pp" href="std_num_ddouble.html#_null_"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>ddouble</span></span></a></span>, <span class="code"><a class="pp" href="std_time_timestamp.html#_null_"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp</span></span></a></span>, <span class="code"><a class="pp" href="std_time_duration.html#_null_"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration</span></span></a></span>, <span class="code"><a class="pp" href="std_time_date.html#_null_"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>date</span></span></a></span>, <span class="code"><a class="pp" href="std_num_int32.html#_null_"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32</span></span></a></span></span></div></div>
</body>
</html>

<span data-line=""></span>