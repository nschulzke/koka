<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="initial-scale=1.0" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>random.kk documentation</title>
</head>

<body class="koka doc body madoko">
<pre class="koka source"><span class="comment">/&#42;---------------------------------------------------------------------------
  Copyright 2020-2021, Microsoft Research, Daan Leijen.

  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the LICENSE file at the root of this distribution.
---------------------------------------------------------------------------&#42;/</span>

<span class="comment">/&#42; Random numbers.
&#42;/</span>
<span class="kw">module</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#_null_"><span class="mo">std/num/random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random</span></span></a>

<span class="kw">import</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32.html#_null_"><span class="mo">std/num/int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32</span></span></a>
<span class="kw">import</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64.html#_null_"><span class="mo">std/num/int64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64</span></span></a>
<span class="kw">import</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64.html#_null_"><span class="mo">std/num/float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64</span></span></a>

<span class="kw">extern</span> <span class="kw">import</span>
  js file <span class="st">"random-inline.js"</span>

<a class="pp" href="#type_space_random"><span class="tp">pub</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <span class="tp kw">effect</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a>
  <span class="kw">fun</span> <span class="decl-fun" id="random_int32">random<span class="dash">-</span>int32</span>() <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>

<span class="kw">pub</span> <span class="kw">fun</span> @default<span class="dash">-</span>random(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">466</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">465</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_effect_extend"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>effect<span class="dash">-</span>extend: <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">ndet</span><span class="tp kw op">|</span><span class="number">485</span><span class="op">&gt;</span> <span class="number">484</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_effect_extend"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>effect<span class="dash">-</span>extend: <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>
  <a class="pp" href="#strong_random">strong-random<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>strong<span class="dash">-</span>random: <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">466</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">465</span>) <span class="kw op">-></span> <span class="op">&lt;</span>ndet<span class="op">|$</span><span class="number">466</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">465</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">466</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">465</span></span></a>)

<span class="comment">// Pick random numbers from a the best strong random source in the OS.
// (e.g. like &#96;/dev/urandom&#96;, &#96;arc4random&#96; etc.). Use &#96;srandom-is-strong&#96; to test if the
// numbers are indeed based on a strong random source.
</span><span class="decl-fun" id="strong_random"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#strong_random">strong-random<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>strong<span class="dash">-</span>random: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">ndet</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span></span></a>(<a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">390</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">389</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><span class="tp sp">,</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_effect_extend"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>effect<span class="dash">-</span>extend: <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">ndet</span><span class="tp kw op">|</span><span class="number">458</span><span class="op">&gt;</span> <span class="number">457</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">&lt;</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_effect_extend"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>effect<span class="dash">-</span>extend: <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>
  <a class="pp"><span class="kw">with</span><span class="pc">handler: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">390</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">389</span>) <span class="kw op">-></span> <span class="op">&lt;</span>ndet<span class="op">|$</span><span class="number">390</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">389</span></span></a> <span class="kw">fun</span> <a class="pp">random-int32<span class="pc">random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">390</span><span class="op">&gt;</span> int32</span></a>() <a class="pp" href="#srandom_int32">srandom-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">390</span><span class="op">&gt;</span> int32</span></a>()
  <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">ndet</span><span class="tp op">|$</span><span class="number">390</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">389</span></span></a>(</span>)

<span class="comment">// Pseudo random number using sfc32 by Chris Doty-Humphrey.
// It is a "chaotic" pseudo random generator that uses 32-bit operations only
// (so we can be deterministic across architectures in results and performance).
// It has good statistical properties and passes PractRand and Big-crush.
// It uses a 32-bit counter to guarantee a worst-case cycle
// of 2^32. It has a 96-bit state, so the average period is 2^127.
// The chance of a cycle of less than 2^(32+max(96-k,0)) is 2^-(32+k),
// (e.g. the chance of a cycle of less than 2^48 is 2^-80).
// &lt;https://pracrand.sourceforge.net/RNG&#95;engines.txt&gt;
</span><span class="decl-value type" id="type_space_sfc"><span class="kw">abstract</span> value <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Sfc"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#type_space_sfc"><span class="tp">sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc: <span class="co">V</span></span></a>(<a class="pp">x<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">int32</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">int32</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp">z<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">int32</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_fs_cnt">cnt<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="fslash">/</span></span>cnt: <span class="tp sp">(</span><span class="tp tpp">sfc</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a><span class="tp kw op">:</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a></span></span>)

<span class="decl-value type" id="type_space_sfc_result"><span class="kw">pub</span> value <span class="tp kw">struct</span> <span class="decl-con" id="con_space_Sfc_result"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#type_space_sfc_result"><span class="tp">sfc-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>result: <span class="co">V</span></span></a>( <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_result_fs_rnd">rnd<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="dash">-</span>result<span class="fslash">/</span></span>rnd: <span class="tp sp">(</span><span class="tp">sfc<span class="dash">-</span>result</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_result_fs_rstate">rstate<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="dash">-</span>result<span class="fslash">/</span></span>rstate: <span class="tp sp">(</span><span class="tp">sfc<span class="dash">-</span>result</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_sfc"><span class="tp">sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc: <span class="co">V</span></span></a> </span></span>)

<span class="decl-fun" id="sfc_step"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_step">sfc-step<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>step: <span class="tp sp">(</span><span class="tp tpp">sfc</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc<span class="dash">-</span>result</span></span></a>( <a class="pp">sfc<span class="pc">sfc: <span class="tp">sfc</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_sfc"><span class="tp">sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc: <span class="co">V</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">sfc<span class="dash">-</span>result</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_sfc_result"><span class="tp">sfc-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>result: <span class="co">V</span></span></a>
  <span class="kw">match</span> <a class="pp">sfc<span class="pc">sfc: <span class="tp">sfc</span></span></a>
    <a class="pp" href="#con_space_Sfc"><span class="co">Sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>Sfc: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">cnt</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>(<a class="pp">x<span class="pc">x: <span class="tp">int32</span></span></a>,<a class="pp">y<span class="pc">y: <span class="tp">int32</span></span></a>,<a class="pp">z<span class="pc">z: <span class="tp">int32</span></span></a>,<a class="pp">cnt<span class="pc">cnt: <span class="tp">int32</span></span></a>) <span class="kw op">-></span>
      <span class="kw">val</span> <a class="pp">res<span class="pc">res: <span class="tp">int32</span></span></a> <span class="kw">=</span> <a class="pp">x<span class="pc">x: <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp">y<span class="pc">y: <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp">cnt<span class="pc">cnt: <span class="tp">int32</span></span></a>
      <a class="pp" href="#con_space_Sfc_result"><span class="co">Sfc-result</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>Sfc<span class="dash">-</span>result: <span class="tp sp">(</span><span class="tp tpp">rnd</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">rstate</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc<span class="dash">-</span>result</span></span></a>( <a class="pp">res<span class="pc">res: <span class="tp">int32</span></span></a>, <a class="pp" href="#con_space_Sfc"><span class="co">Sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>Sfc: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">cnt</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>( <a class="pp">y<span class="pc">y: <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_hat_">^<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(^): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#shr">shr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>shr: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>(<a class="pp">y<span class="pc">y: <span class="tp">int32</span></span></a>,<a class="pp">9<span class="pc">literal: <span class="tp">int</span><br>dec  = 9<br>hex8 = 0x09<br>bit8 = 0b00001001</span></a>),
                            <a class="pp">z<span class="pc">z: <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#shl">shl<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>shl: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>(<a class="pp">z<span class="pc">z: <span class="tp">int32</span></span></a>,<a class="pp">3<span class="pc">literal: <span class="tp">int</span><br>dec  = 3<br>hex8 = 0x03<br>bit8 = 0b00000011</span></a>),
                            <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#rotl">rotl<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>rotl: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>(<a class="pp">z<span class="pc">z: <span class="tp">int32</span></span></a>,<a class="pp">21<span class="pc">literal: <span class="tp">int</span><br>dec  = 21<br>hex8 = 0x15<br>bit8 = 0b00010101</span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp">res<span class="pc">res: <span class="tp">int32</span></span></a>,
                            <a class="pp">cnt<span class="pc">cnt: <span class="tp">int32</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> <a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a> )</span>)

<span class="decl-fun" id="sfc_init32"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_init32">sfc-init32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>init32: <span class="tp sp">(</span><span class="tp tpp">seed1</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">seed2</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>( <a class="pp">seed1<span class="pc">seed1: <span class="tp">int32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp">seed2<span class="pc">seed2: <span class="tp">int32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">sfc</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_sfc"><span class="tp">sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">sfc0<span class="pc">sfc0: <span class="tp">sfc</span></span></a> <span class="kw">=</span> <a class="pp" href="#con_space_Sfc"><span class="co">Sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>Sfc: <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">z</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">cnt</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>(<a class="pp">0<span class="pc">literal: <span class="tp">int</span><br>dec  = 0<br>hex8 = 0x00<br>bit8 = 0b00000000</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>, <a class="pp">seed1<span class="pc">seed1: <span class="tp">int32</span></span></a>, <a class="pp">seed2<span class="pc">seed2: <span class="tp">int32</span></span></a>, <a class="pp">1<span class="pc">literal: <span class="tp">int</span><br>dec  = 1<br>hex8 = 0x01<br>bit8 = 0b00000001</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>)
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#fold_int32">fold-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>fold<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp tpp">n</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">init</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">,</span> <span class="tp tpp">f</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp">int32</span><span class="tp sp">,</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>( <a class="pp">12<span class="pc">literal: <span class="tp">int</span><br>dec  = 12<br>hex8 = 0x0C<br>bit8 = 0b00001100</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>, <a class="pp">sfc0<span class="pc">sfc0: <span class="tp">sfc</span></span></a>, <a class="pp"><span class="kw">fn</span><span class="pc">fn: <span class="tp sp">(</span><span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">s</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>(&#95;,<a class="pp">s<span class="pc">s: <span class="tp">sfc</span></span></a>){ <a class="pp" href="#sfc_step">sfc-step<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>step: <span class="tp sp">(</span><span class="tp tpp">sfc</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc<span class="dash">-</span>result</span></span></a>(<a class="pp">s<span class="pc">s: <span class="tp">sfc</span></span></a>)<span class="kw op">.</span><a class="pp" href="#sfc_result_fs_rstate">rstate<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="dash">-</span>result<span class="fslash">/</span></span>rstate: <span class="tp sp">(</span><span class="tp">sfc<span class="dash">-</span>result</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a> } </span>)  <span class="comment">// step 12 times
</span>

<span class="decl-fun" id="sfc_init"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#sfc_init">sfc-init<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>init: <span class="tp sp">(</span><span class="tp tpp">seed</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>( <a class="pp">seed<span class="pc">seed: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a> <a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">total</span> <span class="tp">sfc</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_sfc"><span class="tp">sfc</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc: <span class="co">V</span></span></a>
  <a class="pp" href="#sfc_init32">sfc-init32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>init32: <span class="tp sp">(</span><span class="tp tpp">seed1</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">seed2</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">sfc</span></span></a>(<a class="pp">seed<span class="pc">seed: <span class="tp">int</span></span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a>, (<a class="pp">seed<span class="pc">seed: <span class="tp">int</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_int-source.html#_fs_">/<span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>int<span class="fslash last">/</span></span>(<span class="fslash">/</span>): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int</span></span></a> <a class="pp">0x100000000<span class="pc">literal: <span class="tp">int</span><br>dec  = 4294967296<br>hex64= 0x0000000100000000<br>bit64= 0b0000000000000000000000000000000100000000000000000000000000000000</span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">int32</span></span></a></span>)


<span class="comment">// Use pseudo random numbers given some initial &#96;seed&#96;. At most
// 64-bits of the initial seed are used. Do not use this for
// cryptographic applications (use &#96;strong-random&#96; instead).
// Uses &#95;sfc32&#95; by Chris Doty-Humphrey which is a fast random
// number generator with a 128-bit internal state which
// passes PractRand and BigCrush. The worst case minimum cycle
// is 2^^32^^, where a potential cycle of 2^^48^^ has a chance
// of 2^^-80^^.
</span><span class="decl-fun" id="pseudo_random"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#pseudo_random">pseudo-random<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>pseudo<span class="dash">-</span>random: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">,</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">seed</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">,</span> <span class="tp tpp">action</span> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp kw op">|</span><span class="tp tv">e</span><span class="tp sp">&gt;</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp tv">e</span> <span class="tp tv">a</span></span></a>( <a class="pp">seed<span class="pc">seed: <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>, <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp op">|$</span><span class="number">610</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">609</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_effect_extend"><span class="tp">|</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>effect<span class="dash">-</span>extend: <span class="tp sp">(</span><span class="co">X</span>, <span class="co">E</span>) <span class="kw op">-></span> <span class="co">E</span></span></a><a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a><span class="tp sp">&gt;</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="number">829</span> <span class="number">828</span></span></a> <span class="tp kw op">:</span> <a class="pp"><span class="tp tv"><span class="effect">e</span></span><span class="pc">e: <span class="co">E</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>
  <span class="kw">var</span> <a class="pp">s<span class="pc">s: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">619</span>,sfc<span class="op">&gt;</span></span></a> <span class="kw op">:=</span> <a class="pp" href="#sfc_init">sfc-init<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>init: <span class="tp sp">(</span><span class="tp tpp">seed</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> sfc</span></a>(<a class="pp">seed<span class="pc">seed: <span class="tp">int</span></span></a>)
  <a class="pp"><span class="kw">with</span><span class="pc">handler: <span class="tp sp">(</span><span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp sp">,</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">609</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">609</span></span></a> <span class="kw">fun</span> <a class="pp">random-int32<span class="pc">random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> int32</span></a>()
    <span class="kw">val</span> <a class="pp">sfc<span class="pc">sfc: <span class="tp">sfc<span class="dash">-</span>result</span></span></a> <span class="kw">=</span> <a class="pp" href="#sfc_step">sfc-step<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>sfc<span class="dash">-</span>step: <span class="tp sp">(</span><span class="tp tpp">sfc</span> <span class="tp kw op">:</span> <span class="tp">sfc</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> sfc<span class="dash">-</span>result</span></a>(<a class="pp">s<span class="pc">s: <span class="tp">sfc</span></span></a>)
    <a class="pp">s<span class="pc">s: <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">619</span>,sfc<span class="op">&gt;</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#local_set"><span class="kw">:=</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>local<span class="dash">-</span>set: <span class="tp sp">(</span><span class="tp tpp">v</span> <span class="tp kw op">:</span> <span class="tp">local<span class="dash">-</span>var</span><span class="tp op">&lt;$</span><span class="number">619</span>,sfc<span class="op">&gt;</span>, assigned <span class="tp kw op">:</span> <span class="tp">sfc</span>) <span class="kw op">-></span> <span class="op">&lt;</span>local<span class="op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> ()</span></a> <a class="pp">sfc<span class="pc">sfc: <span class="tp">sfc<span class="dash">-</span>result</span></span></a><span class="kw op">.</span><a class="pp" href="#sfc_result_fs_rstate">rstate<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="dash">-</span>result<span class="fslash">/</span></span>rstate: <span class="tp sp">(</span><span class="tp">sfc<span class="dash">-</span>result</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> sfc</span></a>
    <a class="pp">sfc<span class="pc">sfc: <span class="tp">sfc<span class="dash">-</span>result</span></span></a><span class="kw op">.</span><a class="pp" href="#sfc_result_fs_rnd">rnd<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span><span class="lq">sfc<span class="dash">-</span>result<span class="fslash">/</span></span>rnd: <span class="tp sp">(</span><span class="tp">sfc<span class="dash">-</span>result</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">local</span><span class="tp op">&lt;$</span><span class="number">619</span><span class="op">&gt;|$</span><span class="number">610</span><span class="op">&gt;</span> int32</span></a>
  <a class="pp">action<span class="pc">action: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp sp">&lt;</span><span class="tp">random</span><span class="tp op">|$</span><span class="number">610</span><span class="op">&gt;</span> <span class="op">$</span><span class="number">609</span></span></a>(</span>)


<span class="comment">// Return a random boolean
</span><span class="decl-fun" id="random_bool"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#random_bool">random-bool<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>bool: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">bool</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  (<a class="pp" href="#random_int32">random-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int32</span></span></a>() <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_gt__eq_">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(&gt;=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">bool</span></span></a> <a class="pp">0<span class="pc">literal: <span class="tp">int</span><br>dec  = 0<br>hex8 = 0x00<br>bit8 = 0b00000000</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int32</span></span></a></span>)

<span class="comment">// Return a random integer in the range [-2^^31^^, 2^^31^^).
</span><span class="decl-fun" id="random_int"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#random_int">random-int<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>
  <a class="pp" href="#random_int32">random-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int32</span></span></a>()<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int">int<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int</span></span></a></span>

<span class="decl-fun" id="random_int64"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#random_int64">random-int64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int64: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int64"><span class="tp">int64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int64: <span class="co">V</span></span></a>
  <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#hilo32_fs_int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span><span class="lq">hilo32<span class="fslash">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">hi</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">lo</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>( <a class="pp" href="#random_int32">random-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int32</span></span></a>(), <a class="pp" href="#random_int32">random-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int32</span></span></a>()</span>) <span class="comment">// todo: add native random-int64?
</span>
<span class="comment">// Return a random float64 in the range [0,1) using 52-bits of randomness
</span><span class="decl-fun" id="random_float64"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#random_float64">random-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">float64</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="#type_space_random"><span class="tp">random</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random: <span class="tp sp">(</span><span class="co">E</span>, <span class="co">V</span>) <span class="kw op">-></span> <span class="co">V</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">mag<span class="pc">mag: <span class="tp">int64</span></span></a> <span class="kw">=</span> <a class="pp" href="#random_int64">random-int64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>random<span class="dash">-</span>int64: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>()<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#shr">shr<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>shr: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">,</span> <span class="tp tpp">shift</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>(<a class="pp">12<span class="pc">literal: <span class="tp">int</span><br>dec  = 12<br>hex8 = 0x0C<br>bit8 = 0b00001100</span></a>)<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#or">or<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>or: <span class="tp sp">(</span><span class="tp">int64</span><span class="tp sp">,</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>(<a class="pp">0x3FF0&#95;0000&#95;0000&#95;0000<span class="pc">literal: <span class="tp">int</span><br>dec  = 4607182418800017408<br>hex64= 0x3FF0000000000000<br>bit64= 0b0011111111110000000000000000000000000000000000000000000000000000</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int64-source.html#int64">int64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int64<span class="fslash last">/</span></span>int64: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">int64</span></span></a>)
  (<a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#float64_from_bits">float64-from-bits<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>float64<span class="dash">-</span>from<span class="dash">-</span>bits: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">float64</span></span></a>(<a class="pp">mag<span class="pc">mag: <span class="tp">int64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_dash_">-<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(<span class="dash">-</span>): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">random</span> <span class="tp">float64</span></span></a> <a class="pp">1.0<span class="pc">literal: <span class="tp">float64</span><br>hex64= 0x1p0</span></a></span>)


<span class="comment">// Returns one of its arguments &#96;x&#96;  or &#96;y&#96;  based on a non-deterministic choice.
</span><span class="decl-fun" id="choose"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#choose">choose<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>choose: <span class="tp kw">forall</span><span class="tp sp">&lt;</span><span class="tp tv">a</span><span class="tp sp">&gt;</span> <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp tv">a</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp tv">a</span></span></a>( <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">933</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>, <a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">933</span></span></a><span class="tp kw op">:</span> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="number">948</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp"><span class="tp tv">a</span><span class="pc">a: <span class="co">V</span></span></a>
  <span class="kw">if</span> <a class="pp" href="#srandom_bool">srandom-bool<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>bool: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a>() <span class="kw">then</span> <a class="pp">x<span class="pc">x: <span class="tp op">$</span><span class="number">933</span></span></a> <span class="kw">else</span> </span><a class="pp">y<span class="pc">y: <span class="tp op">$</span><span class="number">933</span></span></a>

<span class="comment">// Return a strong random boolean
</span><span class="decl-fun" id="srandom_bool"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_bool">srandom-bool<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>bool: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  (<a class="pp" href="#srandom_int32">srandom-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int32</span></span></a>() <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#_gt__eq_">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>(&gt;=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a> <a class="pp">0<span class="pc">literal: <span class="tp">int</span><br>dec  = 0<br>hex8 = 0x00<br>bit8 = 0b00000000</span></a><span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int32">int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int32: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int32</span></span></a></span>)

<span class="comment">// Return a strong random integer in the range [-2^^31^^, 2^^31^^).
</span><span class="decl-fun" id="srandom_int"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_int">srandom-int<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int</span></span></a>(<a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int: <span class="co">V</span></span></a>
  <a class="pp" href="#srandom_int32">srandom-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int32</span></span></a>()<span class="kw op">.</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_int32-source.html#int">int<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>int32<span class="fslash last">/</span></span>int: <span class="tp sp">(</span><span class="tp tpp">i</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int</span></span></a></span>

<span class="comment">// Return a strong random &#96;:int32&#96;
</span><span class="decl-fun" id="srandom_int32"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_int32">srandom-int32<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int32: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int32</span></span></a><span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>
  c  inline <span class="st">"(int32&#95;t)kk&#95;srandom&#95;uint32(kk&#95;context())"</span>
  js <span class="st">"&#95;srandom&#95;int32"</span></span>

<span class="comment">// Return a strong random &#96;:float64&#96; in the range [0,1) using 52-bits of randomness
</span><span class="decl-fun" id="srandom_float64"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_float64">srandom-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;srandom&#95;double"</span>
  js <span class="st">"&#95;srandom&#95;double"</span></span>

<span class="comment">// Are the strong random numbers generated from a strong random source? (like /dev/urandom)
</span><span class="decl-fun" id="srandom_is_strong"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_is_strong">srandom-is-strong<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>is<span class="dash">-</span>strong: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a><span class="tp kw op">:</span> <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>bool: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;srandom&#95;is&#95;strong"</span>
  js <span class="st">"&#95;srandom&#95;is&#95;strong"</span></span>

<span class="comment">// Return a strong random &#96;:int32&#96; uniformly distributed in the range [lo,hi)
</span><span class="decl-fun" id="srandom_int32_range"><span class="kw">pub</span> <span class="kw">extern</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_int32_range">srandom-int32-range<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>int32<span class="dash">-</span>range: <span class="tp sp">(</span><span class="tp tpp">lo</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">,</span> <span class="tp tpp">hi</span> <span class="tp kw op">:</span> <span class="tp">int32</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">int32</span></span></a>(<a class="pp">lo<span class="pc">lo: <span class="tp">int32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>, <a class="pp">hi<span class="pc">hi: <span class="tp">int32</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>) <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_int32"><span class="tp">int32</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>int32: <span class="co">V</span></span></a>
  c  <span class="st">"kk&#95;srandom&#95;range&#95;int32"</span>
  js <span class="st">"&#95;srandom&#95;range&#95;int32"</span></span>

<span class="comment">// Generate a strong random float64 uniformly distributed in the range [lo, hi)
</span><span class="decl-fun" id="srandom_float64_range"><span class="kw">pub</span> <span class="kw">fun</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_random.html#srandom_float64_range">srandom-float64-range<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>float64<span class="dash">-</span>range: <span class="tp sp">(</span><span class="tp tpp">lo</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">hi</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a>(<a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>, <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a><a class="pp">)<span class="pc">result: <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a> <span class="tp kw op">:</span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_ndet"><span class="tp"><span class="effect">ndet</span></span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>ndet: <span class="co">X</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_core_types-source.html#type_space_float64"><span class="tp">float64</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash">/</span>types<span class="fslash last">/</span></span>float64: <span class="co">V</span></span></a>
  <span class="kw">val</span> <a class="pp">low<span class="pc">low: <span class="tp">float64</span></span></a>  <span class="kw">=</span> <span class="kw">if</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_lt__eq_">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(&lt;=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <span class="kw">else</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a>
  <span class="kw">val</span> <a class="pp">high<span class="pc">high: <span class="tp">float64</span></span></a> <span class="kw">=</span> <span class="kw">if</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_lt__eq_">&lt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(&lt;=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp">hi<span class="pc">hi: <span class="tp">float64</span></span></a> <span class="kw">else</span> <a class="pp">lo<span class="pc">lo: <span class="tp">float64</span></span></a>
  <span class="kw">val</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <span class="kw">=</span> ((<a class="pp">high<span class="pc">high: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_dash_">-<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(<span class="dash">-</span>): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a> <a class="pp">low<span class="pc">low: <span class="tp">float64</span></span></a>) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_star_">&#42;<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(&#42;): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a> <a class="pp" href="#srandom_float64">srandom-float64<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>random<span class="fslash last">/</span></span>srandom<span class="dash">-</span>float64: <span class="tp sp">(</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a>()) <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_plus_">+<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(+): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">float64</span></span></a> <a class="pp">low<span class="pc">low: <span class="tp">float64</span></span></a>
  <span class="kw">if</span> <a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_float64-source.html#_gt__eq_">&gt;=<span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>float64<span class="fslash last">/</span></span>(&gt;=): <span class="tp sp">(</span><span class="tp tpp">x</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">,</span> <span class="tp tpp">y</span> <span class="tp kw op">:</span> <span class="tp">float64</span><span class="tp sp">)</span> <span class="tp kw op">-></span> <span class="tp">ndet</span> <span class="tp">bool</span></span></a> <a class="pp">high<span class="pc">high: <span class="tp">float64</span></span></a> <span class="kw">then</span> <a class="pp">low<span class="pc">low: <span class="tp">float64</span></span></a> <span class="kw">else</span> </span><a class="pp">x<span class="pc">x: <span class="tp">float64</span></span></a>  <span class="comment">// can happen due to rounding
</span>
</pre>

</body>
</html>
